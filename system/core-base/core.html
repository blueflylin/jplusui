<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>J+ Library</title>
		<script src="../../system/core/assets/scripts/base.js" type="text/javascript"></script>
		
		<script src="../../assets/demo/demo.js" type="text/javascript"></script>
	</head>
	<body>
		System.Core.Base 是全系统最底层的组件，它提供了全部底层工具函数。
		<script>
			
			Demo.writeTestCases({
			    'Object': '-',
			    'Object.extend': {
			        'var target={"a":"g"}; Object.extend(target, [])': function (value, assert) {
			            assert.areEqual(value["a"], "g");
			        }
			    },
			    'Object.extendIf': {
			        'var target={"a":"g"}; Object.extendIf(target, [])': function (value, assert) {
			            assert.areEqual(value["a"], "g");
			        }
			    },
			    'Object.isObject': {
			        'Object.isObject({})': true,
			        'Object.isObject(null)': false,
			        'Object.isObject(2)': false
			    },
			    'Object.isArray': {
			        'Object.isArray([])': true,
			        'Object.isArray()': false
			    },
			    'Object.isFunction': {
			        'Object.isFunction(function(){})': true,
			        'Object.isFunction(new Function())': true,
			        'Object.isFunction()': false
			    },
			    'Object.each': {
			        'var target={a:1, b:2, c:3}; Object.each(target, assert.log)': function(value, assert) {
			            assert.logged("123");
			            return value === true;
			        },
			        'var target=null; Object.each(target, assert.log)': true,
			        'var target=[1,2,3]; Object.each(target, assert.log)': function(value, assert) {
			            assert.logged("123");
			            return value === true;
			        }
			    },
			    'Object.map': {
			        'Object.map(["aa","aa23"], assert.log)': function(value, assert) {
			            assert.logged("aaaa23");
			        },
			        'Object.map("aa aa23", assert.log)': function(value, assert) {
			            assert.logged("aaaa23");
			        }
			    },
			    'Array': '-',
			    'Array#indexOf': {
			        '[5,4].indexOf(5)': 0,
			        '[5,4].indexOf(4)': 1,
			        '[5,4].indexOf()': -1,
			        '[5,4].indexOf("4")': -1
			    },
			    'Array#item': {
			        '[5,4].item(0)': 5,
			        '[5,4].item(1)': 4,
			        '[5,4].item(-1)': 4,
			        '[5,4].item(2)': undefined
			    },
			    'Array#invoke': {
			        '[5,4].invoke("toString", [])':  ["5", "4"]
			    },
			    'Array#unique': {
			        '[2, 5, 7, 5].unique()':  [2, 5, 7]
			    },
			    'Array#forEach': {
			        '[5,4].forEach(assert.log)': function(value, assert){
			            assert.logged("54");
			        }	
			    },
			    'Array#each': {
			        '[5,4].each(assert.log)': function(value, assert){
			            assert.logged("54");
			        }   
			    },
			    'Array#filter': {
			        '[5,4].filter(function(v){return v > 2;})': [5,4],
			        '[5,4].filter(function(v){return v > 4;})': [5],
			        '[5,4].filter(function(v){return v > 5;})': []
			    },
			    'Array#include': {
			        'var ar = [5,4];ar.include(2); ar': function(value, assert){
			            assert.areEqual(value, [5, 4, 2]);
			        }
			    },
			    'Array#insert': {
			        'var ar = [5,4];ar.insert(1, "1"); ar': function(value, assert){
			            assert.areEqual(value, [5, "1", 4]);
			        }
			    },
			    'Array#remove': {
			        'var ar = [5,4];ar.remove(4); ar':  function(value, assert){
			            assert.areEqual(value, [5]);
			        }
			    },
			    'Array.create': {
			        'Array.create(["a","a",null,"a"], 1)': ["a", null, "a"]
			    },
			    'Function': '-',
			    'Function#bind': {
			        '(function(){assert.log(this)}).bind(2)': function (value, assert) {
			            value();
			            assert.logged("2");
			        }
			    },
			    'Function.empty': {
			        'Function.empty()': undefined
			    },
			    'Function.from': {
			        'Function.from(1)': function(value, assert) {
			            assert.areEqual(value(), 1);
			        }
			    },
			    'String': '-',
			    'String#capitalize':  {
			        '"ab".capitalize()':  "Ab"	
			    },
			    'String#toCamelCase': {
			        '"a-b".toCamelCase()':  "aB"	
			    },
			    //'String.ellipsis': {
			    //    '~("saasasdasd", 7)':  "saas...",
			    //    '~("aba", 3)':  "aba"
			    //},
			    'String.format': {
			        'String.format("{0} {1}", "h", "v")': "h v",
			        'String.format("{a}", {a: 1})': "1"
			    },
			    'Date': '-',
			    'Date.now': {
			        'Date.now()': function(value) {
			            return value > 0;
			        }
			    },
			    'JPlus & Global': '-',
			    'JPlus.id': 'JPlus.id++',
			    'window.execScript': {
			        'window.execScript("Demo.assert.log(false)")': function(value, assert) {
			            assert.logged("false")
			        }
			    }
			});
		</script>
	</body>
</html>
