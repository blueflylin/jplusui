<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
        <meta name="dpl-info" content="status=ok">
        <title>下拉列表</title>
		
        <link href="../../Controls/Core/assets/styles/Base.css" rel="stylesheet" type="text/css" />
        
        <script src="../../System/Core/assets/scripts/Base.js" type="text/javascript"></script>
        <script src="../../System/Dom/assets/scripts/Base.js" type="text/javascript"></script>
        <script src="../../System/Dom/assets/scripts/KeyNav.js" type="text/javascript"></script>
        <script src="../../Controls/Core/assets/scripts/Base.js" type="text/javascript"></script>
		<script src="../../Controls/Suggest/assets/scripts/DropDownMenu.js" type="text/javascript"></script>
        <script src="../../Controls/Suggest/assets/scripts/DropDownList.js" type="text/javascript"></script>
		
		<script src="../../../assets/demo/demo.js" type="text/javascript"></script>
	</head>
	<body>
        <article class="demo">

            <h2 class="demo">创建下拉列表</h2>

            <h3 class="demo">最简单方式： 基于 &lt;select&gt; 创建</h3>

            <p class="demo">让 DropDownList 成为 Select 的代理， Select 的 placeholder onclick onchange readonly disabled 属性会被复制。</p>

            <script class="demo" type="text/html">
                <select id="dropdownlist1" name="dropdownlist1">
                    <option value="1">选项1</option>
                    <option value="2" selected="selected">选项2</option>
                    <option value="1">选项3</option>
                    <option value="1">选项4</option>
                </select>
                <\script>
                    var dropdownlist1 = new DropDownList("dropdownlist1");
                <\/script>
            </script>

            <h3 class="demo">基于 &lt;a&gt; 创建</h3>
            
            <script class="demo" type="text/html">
                <a href="javascript:;" class="x-button" id="dropdownlist2">B</a>
                
                <!-- 紧跟的 x-dropdown 会被作为下拉菜单 -->
                <ul class="x-dropdown x-listbox">
                    <li>预定义的选项</li>
                </ul>
                
                <\script>
                    var dropdownlist2 = new DropDownList("dropdownlist2");
                <\/script>
            </script>

            <h3 class="demo">完整 HTML 创建</h3>
            
            <aside class="demo">
                <span class="x-picker" id="dropdownlist3">
                    <a href="javascript:;" class="x-button">C</a>
                    <button class="x-button"><span class="x-menubutton-arrow"></span></button>
                </span>
                
                <!-- 紧跟的 x-dropdown 会被作为下拉菜单 -->
                <ul class="x-dropdown x-listbox">
                    <li>预定义的选项</li>
                </ul>
                
                <script>
                    var dropdownlist3 = new DropDownList("dropdownlist3");
                </script>
            </aside>

            <p class="demo">DropDownList 用于美化 <a href="../Form/Select.html">Select</a> 控件。另参考 <a href="../Button/MenuButton.html">MenuButton</a> 。</p>

            <p class="demo">Combobox 完整的创建方法文档参考 <a href="Picker.html">Picker</a>。</p>

        </article>

        <article class="demo">

            <h2 class="demo">常用 API</h2>
            
            <section class="demo-sample">
                
                <select id="dropDownList" name="dropDownList">
                    <option value="1">选项1</option>
                    <option value="2" selected="selected">选项2</option>
                </select>
                
                <script>
                    var dropDownList = new DropDownList("dropDownList");
                </script>
                    
            </section>

            <script>

                Demo.writeExamples({
                    '内容相关': '-',
                    '获取当前选中的索引': 'dropDownList.getSelectedIndex()',
                    '设置当前选中的索引': 'dropDownList.setSelectedIndex(1)',
                    '获取选中的值(value), 这个值将被提交到后台': 'dropDownList.getText()',
                    '增加一项': 'dropDownList.add("<em>这是通过 add 插入的</em>").setAttr("data-value", "VAL")',
                    '调整宽度以适应下拉菜单的大小': 'dropDownList.resizeToFitItems()',
                    
                    '操作相关': '-',
                    '设置值更改后的回调': 'dropDownList.on("change", function(){alert("值被改变了 " + dropDownList.getText())})',
                    '设置被选中前的回调，并阻止选择事件': 'dropDownList.on("selecting", function(){alert("选择前执行"); return false; /* 阻止事件，这样就永远不会选中项了。*/})',
                    
                    '状态相关': '-',
                    '设置禁用': 'dropDownList.setAttr("disabled", true)',
                    '取消禁用': 'dropDownList.setAttr("disabled", false)',
                    '获取禁用状态': 'dropDownList.getAttr("disabled")',
                    '设置只读': 'dropDownList.setAttr("readOnly", true)',
                    '取消只读': 'dropDownList.setAttr("readOnly", false)',
                    '获取只读状态': 'dropDownList.getAttr("readOnly")'
                });
                
            </script>

        </article>
		
	</body>
</html>