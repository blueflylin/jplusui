<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="dpl-info" content="status=beta">
    <title>表单控件接口</title>

    <link href="../../Controls/Core/assets/styles/Base.css" rel="stylesheet" type="text/css">
    <link href="../../Controls/Core/assets/styles/IDropDownOwner.css" rel="stylesheet" type="text/css" />

    <script src="../../System/Core/assets/scripts/Base.js" type="text/javascript"></script>
    <script src="../../System/Dom/assets/scripts/Base.js" type="text/javascript"></script>
    <script src="../../System/Dom/assets/scripts/Align.js" type="text/javascript"></script>
    <script src="../../Controls/Core/assets/scripts/Base.js" type="text/javascript"></script>
    <script src="../../Controls/Core/assets/scripts/IDropDownOwner.js" type="text/javascript"></script>
    
    <script src="../../../assets/demo/demo.js" type="text/javascript"></script>
</head>
<body>
    <article class="demo">
        <p>如果一个控件包含了一个自定义的下拉菜单，则可以让这个控件实现 IDropDown 接口。</p>

        <p>调用 IDropDown.setMenu 来设置下拉菜单。</p>
        <p>调用 IDropDown.toggleMenu 来切换下拉菜单的显示状态。</p>
        <p>子类可以重写 onMenuOpen 和 onMenuClose 来实现菜单打开和关闭时的自定义操作。</p>

        <p>一般地，容器需要在初始化的时候绑定 click 事件后调用 toggleMenu	。</p>

        <input type="button" id="a" value="按钮 #a" />

        <div id="menu">
            这是菜单
        </div>

        <script class="demo">

            // 按钮
            var a = Dom.get('a');

            // 将 IDropDown 接口的所有方法直接拷贝给 a。
            Object.extend(a, IDropDownOwner);

            // 核心代码， 设置 a 的下拉菜单为 id=menu 的节点。
            a.setDropDown('menu');

            // 绑定 click 之后，调用 a.toggleMenu 切换菜单。
            a.on('click', a.toggleDropDown);
        </script>

    </article>
</body>
</html>
